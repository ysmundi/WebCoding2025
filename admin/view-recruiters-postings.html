<!DOCTYPE html><!--  This site was created in Webflow. https://webflow.com  --><!--  Last Published: Tue Feb 25 2025 21:34:49 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="67af54b11aa5c5fab7dcd2af" data-wf-site="676715cb815e8f01731dca22">
<head>
  <meta charset="utf-8">
  <title>View Recruiters Postings</title>
  <meta content="View Recruiters Postings" property="og:title">
  <meta content="View Recruiters Postings" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="../css/normalize.css" rel="stylesheet" type="text/css">
  <link href="../css/webflow.css" rel="stylesheet" type="text/css">
  <link href="../css/yuvraj-webcoding-24-25.webflow.css" rel="stylesheet" type="text/css">
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="../images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="../images/webclip.png" rel="apple-touch-icon">
  <script src="../js/config.js"></script>

  <style>
    .text-block-45 {
      text-decoration: none; /* Removes the underline */
      color: inherit; /* Keeps the text color consistent */
      cursor: pointer; /* Makes it look clickable */
    }
  </style>
</head>
<body>
  <section class="section-31">
    <div class="w-layout-blockcontainer container-197 w-container">
      <div class="w-layout-blockcontainer container-198 w-container">
        <a href="home-admin.html#projects" class="text-block-45"><strong class="bold-text-10">BACK</strong></a>      </div>
      <div class="w-layout-blockcontainer container-199 w-container">
        <h1 class="heading-39" id="organization_name">Forest Service</h1>
      </div>
      <div class="w-layout-blockcontainer container-200 w-container"></div>
    </div>
    <div class="w-layout-blockcontainer container-201 w-container">
      <h1 class="heading-40">Information</h1>
      <div class="w-layout-blockcontainer container-202 w-container">
        <div class="w-layout-blockcontainer container-203 w-container">
          <div class="w-layout-blockcontainer container-213 w-container">
            <div class="text-block-47" id="position"><strong class="bold-text-28" >Junior Ranger</strong></div>
            <div class="w-layout-blockcontainer container-205 w-container">
              <div class="w-layout-blockcontainer container-206 w-container">
                <div class="w-layout-blockcontainer container-215 w-container">
                  <div class="text-block-48">Position Type</div>
                </div>
                <div class="w-layout-blockcontainer container-212 w-container">
                  <div class="text-block-49" id="position_type">On Site</div>
                </div>
              </div>
              <div class="w-layout-blockcontainer container-206 w-container">
                <div class="w-layout-blockcontainer container-210 w-container">
                  <div class="text-block-50" >Location</div>
                </div>
                <div class="w-layout-blockcontainer container-211 w-container">
                  <div><strong class="bold-text-11" id="location">Mariposa, CA</strong></div>
                </div>
              </div>
              <div class="w-layout-blockcontainer container-206 w-container">
                <div class="w-layout-blockcontainer container-210 w-container">
                  <div class="text-block-50">Salary</div>
                </div>
                <div class="w-layout-blockcontainer container-211 w-container">
                  <div><strong class="bold-text-11" id="salary">$2,000.00/Month</strong></div>
                </div>
              </div>
              <div class="w-layout-blockcontainer container-206 w-container">
                <div class="w-layout-blockcontainer container-210 w-container">
                  <div class="text-block-50">Deadline</div>
                </div>
                <div class="w-layout-blockcontainer container-211 w-container">
                  <div><strong class="bold-text-11" id="deadline">2024 - 2025</strong></div>
                </div>
              </div>
            </div>
          </div>
          <div class="w-layout-blockcontainer container-214 w-container">
            <div class="text-block-52"><strong class="bold-text-12">Requirements</strong></div>
            <p class="paragraph-15" id="requirements">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
            <div class="text-block-52" ><strong>Responsibilities</strong></div>
            <p class="paragraph-15" id="responsibilities">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
          </div>
        </div>
        <div class="w-layout-blockcontainer container-204 w-container">
          <div class="w-layout-blockcontainer container-213 w-container">
            <a class="button-13 w-button" id="approve-button">APPROVE</a>
            <a class="button-15 w-button" id="deny-button">DENY</a>
          </div>
          <div class="w-layout-blockcontainer container-218 w-container">
            <div class="text-block-52"><strong class="bold-text-12">About</strong></div>
            <p class="paragraph-15" id="about">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
            <div class="text-block-52"><strong class="bold-text-12">Nice To Have</strong></div>
            <p class="paragraph-15" id="nice-to-have">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
            <div class="text-block-52"><strong class="bold-text-12">Why work with us?</strong></div>
            <p class="paragraph-15" id="why-work-with-us">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
          </div>
        </div>
      </div>
    </div>
    <div class="w-layout-blockcontainer container-296 w-container">
      <h1 class="heading-40">Information</h1>
      <div class="w-layout-blockcontainer container-297 w-container">
        <div class="w-layout-blockcontainer container-203 w-container">
          <div class="w-layout-blockcontainer container-213 w-container">
            <div class="text-block-47"><strong>Junior Ranger</strong></div>
            <div class="w-layout-blockcontainer container-205 w-container">
              <div class="w-layout-blockcontainer container-206 w-container">
                <div class="w-layout-blockcontainer container-215 w-container">
                  <div class="text-block-48">Position Type</div>
                </div>
                <div class="w-layout-blockcontainer container-212 w-container">
                  <div class="text-block-49">On Site</div>
                </div>
              </div>
              <div class="w-layout-blockcontainer container-206 w-container">
                <div class="w-layout-blockcontainer container-210 w-container">
                  <div class="text-block-50">Location</div>
                </div>
                <div class="w-layout-blockcontainer container-211 w-container">
                  <div><strong class="bold-text-11">Mariposa, CA</strong></div>
                </div>
              </div>
              <div class="w-layout-blockcontainer container-206 w-container">
                <div class="w-layout-blockcontainer container-210 w-container">
                  <div class="text-block-50">Salary</div>
                </div>
                <div class="w-layout-blockcontainer container-211 w-container">
                  <div><strong class="bold-text-11">$2,000.00/Month</strong></div>
                </div>
              </div>
              <div class="w-layout-blockcontainer container-206 w-container">
                <div class="w-layout-blockcontainer container-210 w-container">
                  <div class="text-block-50">Duration ofÂ Contract</div>
                </div>
                <div class="w-layout-blockcontainer container-211 w-container">
                  <div><strong class="bold-text-11">2024 - 2025</strong></div>
                </div>
              </div>
            </div>
          </div>
          <div class="w-layout-blockcontainer container-214 w-container">
            <div class="text-block-52"><strong class="bold-text-12">Requirements</strong></div>
            <p class="paragraph-15">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
            <div class="text-block-52"><strong>Responsibilities</strong></div>
            <p class="paragraph-15">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
          </div>
        </div>
        <div class="w-layout-blockcontainer container-204 w-container">
          <div class="w-layout-blockcontainer container-218 w-container">
            <div class="text-block-52"><strong class="bold-text-12">About</strong></div>
            <p class="paragraph-15">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
            <div class="text-block-52"><strong class="bold-text-12">Nice To Have</strong></div>
            <p class="paragraph-15">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
            <div class="text-block-52"><strong class="bold-text-12">Why work with us?</strong></div>
            <p class="paragraph-15">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
          </div>
          <div class="w-layout-blockcontainer container-298 w-container">
            <a class="button-13 w-button">APPROVE</a>
            <a class="button-15 w-button">DENY</a>
          </div>
        </div>
      </div>
    </div>
  </section>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=676715cb815e8f01731dca22" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="../js/webflow.js" type="text/javascript"></script>
  <script>
// Function to extract query parameters from the URL
function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
}

function checkSession() {
        return $.ajax({
            url: 'http://localhost:3000/auth/api/user',
            method: 'GET',
            credentials: 'include', // Include cookies
            success: function (data) {
                if (!data.user || !data.user.id || data.user.role != 'Admin') {
                    // Redirect to index.html if no session ID is found or the user is a student
                    window.location.href = '../index.html';
                } // Store the user ID
            },
            error: function (error) {
                // Redirect to index.html if there's an error (e.g., no session)
                window.location.href = '../index.html';
                console.error('Error fetching user ID:', error);
            },
        });
    }

// Function to fetch data from the API
async function fetchJobDetails() {
    const jobId = getQueryParam('jobId'); // Get the job ID from the URL

    if (!jobId) {
        console.error('Job ID not found in the URL');
        return;
    }

    try {
        const response = await fetch(`http://localhost:3000/recruiter/posting-info/${jobId}`, {
            method: 'GET',
        });
        if (!response.ok) {
            throw new Error('Failed to fetch job details');
        }
        const data = await response.json();
        console.log('API Response:', data);

        if (!Array.isArray(data) || data.length === 0) {
            throw new Error('No job data found or invalid data format');
        }

        const job = data[0];

        // Update the HTML with the fetched data
        document.getElementById('organization_name').textContent = job.organization_name || 'None.';
        document.getElementById('position').textContent = job.position_name || 'None.';
        document.getElementById('position_type').textContent = job.position_type || 'None.';
        document.getElementById('location').textContent = job.location_requirements || 'None.';
        document.getElementById('salary').textContent = job.salary ? `$${job.salary}/Hr` : 'None';
        document.getElementById('deadline').textContent = job.deadline ? new Date(job.deadline).toLocaleDateString() : 'None.';
        document.getElementById('requirements').innerHTML = job.requirements || 'No requirements available.';
        document.getElementById('responsibilities').innerHTML = job.responsibilities || 'No responsibilities available.';
        document.getElementById('about').innerHTML = job.about || 'No about information available.';
        document.getElementById('nice-to-have').innerHTML = job.nice_to_have || 'No nice-to-have information available.';
        document.getElementById('why-work-with-us').innerHTML = job.why_work_with_us || 'No information available.';
    } catch (error) {
        console.error('Error fetching job details:', error);
        const errorMessage = document.getElementById('error-message');
        if (errorMessage) {
            errorMessage.textContent = 'Failed to fetch job details.';
        }
    }
}

function acceptPosting(jobId) {
    if (!jobId) {
        console.error('Job ID not found');
        alert('Job ID is missing. Please refresh the page and try again.');
        return;
    }

    $.ajax({
        url: `http://localhost:3000/admin/approve-posting/${jobId}`,
        method: 'PUT',
        success: function (response) {
            console.log('Posting approved:', response.message);
            alert('Posting approved successfully!');
            window.location.href = `home-admin.html`;
        },
        error: function (error) {
            console.error('Error approving posting:', error.responseJSON.error);
            alert('Failed to approve posting. Please try again.');
        },
    });
}

function rejectPosting(jobId) {
    if (!jobId) {
        console.error('Job ID not found');
        alert('Job ID is missing. Please refresh the page and try again.');
        return;
    }

    $.ajax({
        url: `http://localhost:3000/admin/deny-posting/${jobId}`,
        method: 'PUT',
        success: function (response) {
            console.log('Posting denied:', response.message);
            alert('Posting denied successfully!');
            window.location.href = `home-admin.html`;
        },
        error: function (error) {
            console.error('Error denying posting:', error.responseJSON.error);
            alert('Failed to deny posting. Please try again.');
        },
    });
}

// Call the function when the page loads
document.addEventListener('DOMContentLoaded', function () {
    checkSession().then(fetchJobDetails());

    const jobId = getQueryParam('jobId');

    const acceptButton = document.getElementById('approve-button');
    if (acceptButton) {
        acceptButton.addEventListener('click', function (event) {
            event.preventDefault();
            acceptPosting(jobId);
        });
    } else {
        console.error('Accept button not found');
    }

    const rejectButton = document.getElementById('deny-button');
    if (rejectButton) {
        rejectButton.addEventListener('click', function (event) {
            event.preventDefault();
            rejectPosting(jobId);
        });
    } else {
        console.error('Reject button not found');
    }
});
    </script>
</body>
</html>