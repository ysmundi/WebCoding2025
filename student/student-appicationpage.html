<!DOCTYPE html><!--  This site was created in Webflow. https://webflow.com  --><!--  Last Published: Sun Feb 23 2025 16:38:07 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="679fd888f74ee0cee34b5a97" data-wf-site="676715cb815e8f01731dca22">
  <head>
    <meta charset="utf-8">
    <title>Student_AppicationPage</title>
    <meta content="Student_AppicationPage" property="og:title">
    <meta content="Student_AppicationPage" property="twitter:title">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta content="Webflow" name="generator">
    <link href="../css/normalize.css" rel="stylesheet" type="text/css">
    <link href="../css/webflow.css" rel="stylesheet" type="text/css">
    <link href="../css/yuvraj-webcoding-24-25.webflow.css" rel="stylesheet" type="text/css">
    <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
    <link href="../images/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="../images/webclip.png" rel="apple-touch-icon">
  </head>
<body>
  <div class="w-layout-blockcontainer container-116 w-container">
    <div class="w-layout-blockcontainer container-149 w-container">
      <div class="w-layout-blockcontainer container-164 w-container">
        <div class="text-block-25" id="backButton">BACK</div>
      </div>
    </div>
    <h1 class="heading-21">APPLY</h1>
    <div class="w-layout-blockcontainer container-150 w-container"></div>
  </div>
  <section class="section-27">
    <div class="w-layout-blockcontainer container-151 w-container">
      <div class="w-layout-blockcontainer container-154 w-container">
        <h1>Basic Information</h1>
        <div id="organization_name">University of Harvard</div>
        <h1 class="heading-29" id="position_name"><span class="text-span-7">LECTURER</span></h1>
        <div id="education_requirements">Master Degree in Theoretical Physics</div>
        <div class="w-layout-blockcontainer container-155 w-container">
          <div class="w-layout-blockcontainer container-159 w-container">
            <div class="text-block-26" id="position_type">Position Type</div>
          </div>
          <div class="w-layout-blockcontainer container-160 w-container">
            <div class="text-block-27" id="position_type">On Site</div>
          </div>
        </div>
        <div class="w-layout-blockcontainer container-156 w-container">
          <div class="w-layout-blockcontainer container-161 w-container">
            <div>Location</div>
          </div>
          <div class="w-layout-blockcontainer container-162 w-container">
            <div class="text-block-28" id="location"><strong>Cambridge, MA</strong></div>
          </div>
        </div>
        <div class="w-layout-blockcontainer container-156 w-container">
          <div class="w-layout-blockcontainer container-161 w-container">
            <div>Salary</div>
          </div>
          <div class="w-layout-blockcontainer container-162 w-container">
            <div><strong class="bold-text-6" id="salary">$110,000/Year</strong></div>
          </div>
        </div>
        <div class="w-layout-blockcontainer container-156 w-container">
          <div class="w-layout-blockcontainer container-161 w-container">
            <div>Deadline</div>
          </div>
          <div class="w-layout-blockcontainer container-162 w-container">
            <div><strong class="bold-text-7" id="deadline">2024 - 2029</strong></div>
          </div>
        </div>
        <h1>Requirements</h1>
        <p class="paragraph-15" id="requirements">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
        <h1>About</h1>
        <p class="paragraph-15" id="about" >Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
      </div>
      <div class="w-layout-blockcontainer container-152 w-container">
        <div class="form-block-6 w-form">
          <form id="email-form" name="email-form" data-name="Email Form" method="get" class="form-6" data-wf-page-id="679fd888f74ee0cee34b5a97" data-wf-element-id="fda40e31-69b4-664b-04f9-48c1abaab59a">
            <h1>Apply</h1><label class="w-checkbox"><input type="checkbox" id="checkbox" name="checkbox" data-name="Checkbox" class="w-checkbox-input"><span class="w-form-label" for="checkbox">Use your established information</span></label><label for="name">Name</label><input class="text-field-17 w-input" maxlength="256" name="name" data-name="Name" placeholder="" type="text" id="name" required=""><label for="email">Email Address</label><input class="text-field-18 w-input" maxlength="256" name="email" data-name="Email" placeholder="" type="email" id="email" required=""><label for="email-2">Phone Number(Optional)</label><input class="text-field-18 w-input" maxlength="256" name="email-2" data-name="Email 2" placeholder="" type="tel" id="phone-number" required=""><label for="field">About You</label><textarea required="" placeholder="Example Text" maxlength="5000" id="about-you" name="field" data-name="Field" class="textarea-2 w-input"></textarea>
            <div class="w-layout-blockcontainer container-163 w-container"><input type="submit" data-wait="Please wait..." class="submit-button-6 w-button" value="Submit"></div>
          </form>
          <div class="w-form-done">
            <div>Thank you! Your submission has been received!</div>
          </div>
          <div class="w-form-fail">
            <div>Oops! Something went wrong while submitting the form.</div>
          </div>
        </div>
        <h1>Nice To Have</h1>
        <p class="paragraph-15" id="nice-to-have">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
        <h1>Why work with us?</h1>
        <p class="paragraph-15" id="why-work-with-us">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
      </div>
    </div>
    <div class="w-layout-blockcontainer container-290 w-container">
      <div class="w-layout-blockcontainer container-154 w-container">
        <h1 class="heading-48">Basic Information</h1>
        <div>University of Harvard</div>
        <h1 class="heading-29"><span class="text-span-7">LECTURER</span></h1>
        <div>Master Degree in Theoretical Physics</div>
        <div class="w-layout-blockcontainer container-155 w-container">
          <div class="w-layout-blockcontainer container-159 w-container">
            <div class="text-block-26">Position Type</div>
          </div>
          <div class="w-layout-blockcontainer container-160 w-container">
            <div class="text-block-27">On Site</div>
          </div>
        </div>
        <div class="w-layout-blockcontainer container-156 w-container">
          <div class="w-layout-blockcontainer container-161 w-container">
            <div>Location</div>
          </div>
          <div class="w-layout-blockcontainer container-162 w-container">
            <div class="text-block-28"><strong>Cambridge, MA</strong></div>
          </div>
        </div>
        <div class="w-layout-blockcontainer container-156 w-container">
          <div class="w-layout-blockcontainer container-161 w-container">
            <div>Salary</div>
          </div>
          <div class="w-layout-blockcontainer container-162 w-container">
            <div><strong class="bold-text-6">$110,000/Year</strong></div>
          </div>
        </div>
        <div class="w-layout-blockcontainer container-156 w-container">
          <div class="w-layout-blockcontainer container-161 w-container">
            <div>Duration of Contract</div>
          </div>
          <div class="w-layout-blockcontainer container-162 w-container">
            <div><strong class="bold-text-7">2024 - 2029</strong></div>
          </div>
        </div>
        <h1 class="heading-62">Requirements</h1>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
        <h1 class="heading-63">About</h1>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros </p>
      </div>
      <div class="w-layout-blockcontainer container-152 w-container">
        <h1 class="heading-64">Nice To Have</h1>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
        <h1 class="heading-65">Why work with us?</h1>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
        <div class="form-block-6 w-form">
          <form id="email-form" name="email-form" data-name="Email Form" method="get" class="form-6" data-wf-page-id="679fd888f74ee0cee34b5a97" data-wf-element-id="0fae71cb-15cb-003a-1553-db07a998ebcb">
            <h1>Apply</h1><label class="w-checkbox"><input type="checkbox" id="checkbox-2" name="checkbox-2" data-name="Checkbox 2" class="w-checkbox-input"><span class="w-form-label" for="checkbox-2">Use your established information</span></label><label for="name-2">Name</label><input class="text-field-17 w-input" maxlength="256" name="name-2" data-name="Name 2" placeholder="" type="text" id="name-2" required=""><label for="email-3">Email Address</label><input class="text-field-18 w-input" maxlength="256" name="email-3" data-name="Email 3" placeholder="" type="email" id="email-3" required=""><label for="email-3">Phone Number(Optional)</label><input class="text-field-18 w-input" maxlength="256" name="email-2" data-name="Email 2" placeholder="" type="tel" id="email-2" required=""><label for="field-2">About You</label><textarea required="" placeholder="Example Text" maxlength="5000" id="field-2" name="field-2" data-name="Field 2" class="textarea-2 w-input"></textarea>
            <div class="w-layout-blockcontainer container-163 w-container"><input type="submit" data-wait="Please wait..." class="submit-button-6 w-button" value="Submit"></div>
          </form>
          <div class="w-form-done">
            <div>Thank you! Your submission has been received!</div>
          </div>
          <div class="w-form-fail">
            <div>Oops! Something went wrong while submitting the form.</div>
          </div>
        </div>
      </div>
    </div>
    <div class="w-layout-blockcontainer container-153 w-container">
      <h1>Responsibilities</h1>
      <p class="paragraph-15" id="responsibilities">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat. Aenean faucibus nibh et justo cursus id rutrum lorem imperdiet. Nunc ut sem vitae risus tristique posuere.</p>
    </div>
  </section>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=676715cb815e8f01731dca22" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="../js/webflow.js" type="text/javascript"></script>

  <script>
    // Function to fetch data from the API
    // Function to extract query parameters from the URL
    // Function to extract query parameters from the URL

    // Function to extract query parameters from the URL
function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
}

// Function to check if a session ID exists
function checkSession() {
    return $.ajax({
        url: 'http://localhost:3000/auth/api/user',
        method: 'GET',
        credentials: 'include', // Include cookies
        success: function (data) {
            if (!data.user || !data.user.id || data.user.role === "Recruiter") {
                // Redirect to index.html if no session ID is found or the user is a recruiter
                window.location.href = '../index.html';
            }
            userId = data.user.id; // Store the user ID
        },
        error: function (error) {
            // Redirect to index.html if there's an error (e.g., no session)
            window.location.href = '../index.html';
            console.error('Error fetching user ID:', error);
        },
    });
}

// Function to fetch data from the API
async function fetchJobDetails() {
    const jobId = getQueryParam('jobId'); // Get the job ID from the URL

    if (!jobId) {
        console.error('Job ID not found in the URL');
        return;
    }

    try {
        const response = await fetch(`http://localhost:3000/recruiter/posting-info/${jobId}`); // Use the job ID in the API URL
        if (!response.ok) {
            throw new Error('Failed to fetch data');
        }
        const data = await response.json(); // Parse the JSON response

        // Log the API response for debugging
        console.log('API Response:', data);

        // Check if the response is an array and has at least one element
        if (Array.isArray(data) && data.length > 0) {
            const job = data[0]; // Access the first job in the array

            // Log the job object for debugging
            console.log('Job Object:', job);

            // Update the HTML with the fetched data
            document.getElementById('organization_name').textContent = job.organization_name || 'None.';
            document.getElementById('position_name').textContent = job.position_name || 'None.';
            document.getElementById('education_requirements').textContent = job.education_requirements || 'None.';
            document.getElementById('location').textContent = job.location_requirements || 'None.';
            document.getElementById('salary').textContent = job.salary ? `$${job.salary}/Hour` : 'None';
            document.getElementById('deadline').textContent = job.deadline ? new Date(job.deadline).toLocaleDateString() : 'None.';
            document.getElementById('requirements').textContent = job.requirements || 'No requirements available.';
            document.getElementById('responsibilities').textContent = job.responsibilities || 'No responsibilities available.';
            document.getElementById('about').textContent = job.about || 'No about information available.';
            document.getElementById('nice-to-have').textContent = job.nice_to_have || 'No nice-to-have information available.';
            document.getElementById('why-work-with-us').textContent = job.why_work_with_us || 'No information available.';
        } else {
            throw new Error('No job data found in the response');
        }
    } catch (error) {
        console.error('Error fetching job details:', error);
        document.getElementById('error-message').textContent = 'Failed to fetch job details.';
    }
}

// Call the function when the page loads
document.addEventListener('DOMContentLoaded', function () {
    checkSession().then(fetchJobDetails).catch(() => {
        // Redirect to index.html if the session check fails
        window.location.href = '../index.html';
    });
});
    </script>
  
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      document.getElementById("email-form").addEventListener("submit", async function(event) {
        event.preventDefault();
      
        // Get form values
        const job_id = parseInt(getQueryParam('jobId'), 10);
        const user_id = 1;
        const username = document.getElementById("name").value;
        const email = document.getElementById("email").value;
        const phone_number = document.getElementById("phone-number").value;
        const about_you = document.getElementById("about-you").value;

        // Prepare API request body
        const data = {
          job_id,
          user_id,
          username,
          email,
          phone_number,
          about_you
        };

        // Send API request
        try {
          const response = await fetch("http://localhost:3000/student/apply", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(data),
          });
          
          if (response.ok) {
            document.querySelector(".w-form-done").style.display = "block"; // Show success message
            document.querySelector(".w-form-fail").style.display = "none";  // Hide error message
            document.getElementById("email-form").reset(); // Reset form
          } else {
            console.error("Failed to submit the job", response.statusText);
            throw new Error("Form submission failed");
            alert("Submission failed. Please try again.");
          }
        } catch (error) {
          document.querySelector(".w-form-done").style.display = "none"; // Hide success message
          document.querySelector(".w-form-fail").style.display = "block"; // Show error message
          console.error("Error submitting form:", error);
        }
      });
    });

  </script>
</body>
</html>